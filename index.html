<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>3 Spins üé°</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:rgba(255,255,255,.08);
      --border:rgba(255,255,255,.14);
      --text:#e9eefc;
      --muted:rgba(233,238,252,.78);
      --btn:rgba(255,255,255,.10);
      --btn2:rgba(255,255,255,.16);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:
        radial-gradient(900px 600px at 15% 10%, rgba(120,180,255,.18), transparent 60%),
        radial-gradient(900px 600px at 90% 20%, rgba(255,140,200,.14), transparent 55%),
        radial-gradient(900px 600px at 50% 110%, rgba(120,255,200,.10), transparent 55%),
        var(--bg);
      color:var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:22px;
    }
    .wrap{width:min(950px,100%)}
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:22px;
      padding:22px;
      box-shadow: 0 20px 55px rgba(0,0,0,.45);
      backdrop-filter: blur(10px);
    }
    h1{margin:0;font-size:28px;letter-spacing:.2px}
    .sub{margin:10px 0 0;color:var(--muted);line-height:1.55;font-size:15.5px;max-width:72ch}
    .row{display:grid;grid-template-columns: 330px 1fr;gap:18px;margin-top:18px}
    @media (max-width: 860px){ .row{grid-template-columns: 1fr} }

    .wheelWrap{
      display:flex; align-items:center; justify-content:center;
      padding:12px;
      border-radius:20px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
    }

    .wheelArea{position:relative;width:280px;height:280px}
    .pointer{
      position:absolute; top:-8px; left:50%;
      transform:translateX(-50%);
      width:0;height:0;
      border-left:14px solid transparent;
      border-right:14px solid transparent;
      border-bottom:22px solid rgba(233,238,252,.95);
      filter: drop-shadow(0 10px 10px rgba(0,0,0,.45));
      z-index:5;
    }
    .wheel{
      width:280px;height:280px;border-radius:50%;
      border:1px solid rgba(255,255,255,.18);
      box-shadow: 0 18px 45px rgba(0,0,0,.35);
      background:
        conic-gradient(
          rgba(255,255,255,.14) 0 16%,
          rgba(120,180,255,.18) 16% 33%,
          rgba(255,140,200,.16) 33% 50%,
          rgba(120,255,200,.14) 50% 66%,
          rgba(255,255,255,.12) 66% 83%,
          rgba(120,180,255,.14) 83% 100%
        );
      display:flex; align-items:center; justify-content:center;
      position:relative;
      transform: rotate(0deg);
      transition: transform 2.2s cubic-bezier(.12,.88,.18,1);
      user-select:none;
    }
    .hub{
      width:88px;height:88px;border-radius:50%;
      background: rgba(0,0,0,.28);
      border:1px solid rgba(255,255,255,.18);
      display:flex; align-items:center; justify-content:center;
      font-weight:800;
      letter-spacing:.6px;
    }
    .labels{
      position:absolute; inset:0;
      pointer-events:none;
      font-size:12px;
      color: rgba(233,238,252,.88);
      opacity:.9;
    }
    .labels span{
      position:absolute;
      left:50%; top:50%;
      transform-origin: 0 0;
      white-space:nowrap;
    }
    .l1{transform: rotate(-80deg) translate(65px,-6px);}
    .l2{transform: rotate(-20deg) translate(65px,-6px);}
    .l3{transform: rotate(40deg) translate(65px,-6px);}
    .l4{transform: rotate(100deg) translate(65px,-6px);}
    .l5{transform: rotate(160deg) translate(65px,-6px);}
    .l6{transform: rotate(220deg) translate(65px,-6px);}

    .right{padding:10px 10px 2px;}
    .meta{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      margin-bottom:10px;
    }
    .pill{
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.07);
      color: var(--muted);
      font-size:13px;
    }
    .pill strong{color:var(--text)}
    .btnRow{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    button{
      border-radius:16px;
      border:1px solid rgba(255,255,255,.18);
      background: var(--btn);
      color: var(--text);
      padding:12px 14px;
      cursor:pointer;
      transition: transform .08s ease, background .2s ease;
      font-size:14px;
    }
    button:hover{transform: translateY(-1px); background: var(--btn2);}
    button:disabled{opacity:.55; cursor:not-allowed; transform:none;}

    .result{
      margin-top:14px;
      padding:14px;
      border-radius:18px;
      border:1px dashed rgba(255,255,255,.25);
      background: rgba(0,0,0,.20);
      display:none;
      line-height:1.55;
      animation: fadeIn .22s ease;
    }
    @keyframes fadeIn{from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:translateY(0)}}
    .small{color:var(--muted); font-size:13px; margin-top:8px}

    .ynRow{display:none; gap:10px; margin-top:12px; flex-wrap:wrap}
    .ynRow button{padding:11px 14px}

    .divider{height:1px;background:rgba(255,255,255,.14);margin:14px 0}
    .tiny{
      margin-top:10px;
      color: rgba(233,238,252,.62);
      font-size:12.5px;
      line-height:1.45;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>3 spins. no refunds. üé°</h1>
      <p class="sub">
        I made this because I was bored and it made me laugh.
        You get <b>exactly three spins</b>. After each one you have to accept or reject the ‚Äúwheel law‚Äù
        before it lets you spin again üòÑ
      </p>

      <div class="row">
        <div class="wheelWrap">
          <div class="wheelArea">
            <div class="pointer"></div>
            <div id="wheel" class="wheel">
              <div class="labels">
                <span class="l1">üôÇ</span>
                <span class="l2">üçù</span>
                <span class="l3">üíã</span>
                <span class="l4">‚ú®</span>
                <span class="l5">ü´†</span>
                <span class="l6">üéÅ</span>
              </div>
              <div class="hub">SPIN</div>
            </div>
          </div>
        </div>

        <div class="right">
          <div class="meta">
            <div class="pill">Spins left: <strong id="left">3</strong></div>
            <div class="pill">Spin #: <strong id="num">0</strong>/3</div>
          </div>

          <div class="btnRow">
            <button id="spinBtn" onclick="spin()">Spin</button>
            <button id="resetBtn" onclick="resetGame()" style="display:none;">Play again</button>
          </div>

          <div id="result" class="result"></div>

          <div id="ynRow" class="ynRow">
            <button onclick="acceptOutcome()">Deal üòÑ</button>
            <button onclick="rejectOutcome()">Nope üòå</button>
          </div>

          <div class="divider"></div>
          <div class="tiny">
            Tip: if you play again, it won‚Äôt be the exact same results. the wheel has‚Ä¶ personality.
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
  // ====== EDIT THE OUTCOMES HERE ======
  // Spin 1: cute-ish / silly / low stakes
  const SPIN1_POOL = [
    "promise me youll go to bed earlier üò¥ (yes this is me being responsible)",
    "you owe me a smile üôÇ (a real one)",
    "you owe me one voice note üéôÔ∏è (even 3 seconds, i don‚Äôt care)",
    "you owe me one ‚Äògood morning‚Äô text tomorrow üå§Ô∏è",
    "you owe me one cute selfie ü§≥ (no pressure, just saying)",
    "you owe me an emoji that matches your mood right now üòÑ",
    "you owe me one random fun fact üß† (any topic, surprise me)",
    "you owe me one ‚Äúi‚Äôm proud of you‚Äù to yourself today ü´∂ (yes i‚Äôm serious)",
    "you owe me ONE dramatic gasp üò± (practice immediately)"
  ];

  // Spin 2: more flirty / date-y / ‚Äúokay now we‚Äôre talking‚Äù
  const SPIN2_POOL = [
    "you owe me dinner üçù (and i‚Äôm going to pretend this is legally binding)",
    "you owe me a kiss üíã (interest is compounding daily)",
    "you owe me a date night ‚ú® (you choose: cozy or chaotic)",
    "you owe me a hug ü§ç (the long kind)",
    "you owe me dessert üç∞ (i‚Äôm not negotiating)",
    "you owe me a movie night üé¨ (you pick, i‚Äôll behave‚Ä¶ maybe)",
    "you owe me coffee ‚òï (and you have to tell me one secret)",
    "you owe me a ‚Äòyes‚Äô to doing something spontaneous this week üòå",
    "you owe me a walk together üåô (slow pace, good vibes)"
  ];

  // Spin 3: bigger / funnier / ‚Äúfinal boss‚Äù
  const SPIN3_POOL = [
    "you owe me 2 quadrillion dollars üí∏ (i accept cash, card, or emotional support)",
    "you owe me an apology üòå ‚Ä¶for what? idk lol heeh",
    "you owe me a japanese vacation üáØüáµ (i want ramen, temples, and vibes)",
    "you owe me 1 (one) royal title üëë (i don‚Äôt make the rules)",
    "you owe me a lifetime supply of forehead kisses üò≠",
    "you owe me a weekend getaway üß≥ (no planning stress, just go)",
    "you owe me control of the aux cord üéµ (dangerous, i know)",
    "you owe me a handwritten note üìù (yes like it‚Äôs 2009)",
    "you owe me a ‚Äòyes‚Äô to being my valentine üíå (you can say no, but the wheel will be sad)"
  ];
  // ====================================

  let spinCount = 0;
  let spinning = false;
  let waitingForAnswer = false;
  let currentRotation = 0;

  // We‚Äôll shuffle pools so replays feel different, and avoid repeats within a run.
  let spin1Bag = [];
  let spin2Bag = [];
  let spin3Bag = [];

  const wheelEl  = document.getElementById("wheel");
  const leftEl   = document.getElementById("left");
  const numEl    = document.getElementById("num");
  const resultEl = document.getElementById("result");
  const spinBtn  = document.getElementById("spinBtn");
  const resetBtn = document.getElementById("resetBtn");
  const ynRow    = document.getElementById("ynRow");

  function shuffle(arr){
    const a = arr.slice();
    for(let i = a.length - 1; i > 0; i--){
      const j = Math.floor(Math.random() * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }

  function refillBags(){
    spin1Bag = shuffle(SPIN1_POOL);
    spin2Bag = shuffle(SPIN2_POOL);
    spin3Bag = shuffle(SPIN3_POOL);
  }

  function pullFromBag(bag, pool){
    if(bag.length === 0) bag.push(...shuffle(pool));
    return bag.pop();
  }

  function updateUI(){
    const spinsLeft = Math.max(0, 3 - spinCount);
    leftEl.textContent = spinsLeft.toString();
    numEl.textContent = spinCount.toString();

    if(spinsLeft === 0){
      spinBtn.disabled = true;
      resetBtn.style.display = "inline-block";
    } else {
      // locked if waitingForAnswer
      spinBtn.disabled = waitingForAnswer || spinning;
    }
  }

  function showResult(html){
    resultEl.style.display = "block";
    resultEl.innerHTML = html;
  }

  function showYesNo(){ ynRow.style.display = "flex"; }
  function hideYesNo(){ ynRow.style.display = "none"; }

  function spin(){
    if(spinning || waitingForAnswer) return;
    if(spinCount >= 3) return;

    spinning = true;
    spinBtn.disabled = true;
    hideYesNo();

    spinCount += 1;
    updateUI();

    // wheel animation (visual ‚Äúrandom‚Äù spin)
    const extraTurns = 4 + Math.floor(Math.random()*3); // 4‚Äì6 rotations
    const randomDeg  = Math.floor(Math.random()*360);
    currentRotation += (extraTurns * 360) + randomDeg;
    wheelEl.style.transform = `rotate(${currentRotation}deg)`;

    setTimeout(() => {
      let outcome = "";
      let header = "";

      if(spinCount === 1){
        header = "Spin 1 result:";
        outcome = pullFromBag(spin1Bag, SPIN1_POOL);
      } else if(spinCount === 2){
        header = "Spin 2 result:";
        outcome = pullFromBag(spin2Bag, SPIN2_POOL);
      } else {
        header = "Final spin result:";
        outcome = pullFromBag(spin3Bag, SPIN3_POOL);
      }

      showResult(`
        <b>${header}</b><br><br>
        <span style="font-size:18px"><b>${outcome}</b></span>
        <div class="small">Do we accept wheel law? üòÑ</div>
      `);

      waitingForAnswer = true;
      showYesNo();

      spinning = false;
      updateUI();
    }, 2250);
  }

  function acceptOutcome(){
    waitingForAnswer = false;
    hideYesNo();

    if(spinCount < 3){
      showResult(`<b>Deal üòÑ</b><div class="small">Okay okay‚Ä¶ next spin.</div>`);
      spinBtn.disabled = false;
    } else {
      showResult(`<b>Deal üòÑ</b><div class="small">That‚Äôs the final spin. Screenshot this for evidence üëÄ</div>`);
      spinBtn.disabled = true;
      resetBtn.style.display = "inline-block";
    }
    updateUI();
  }

  function rejectOutcome(){
    waitingForAnswer = false;
    hideYesNo();

    if(spinCount < 3){
      showResult(`<b>Nope üòå</b><div class="small">Noted. The wheel is offended‚Ä¶ but it‚Äôll allow another spin.</div>`);
      spinBtn.disabled = false;
    } else {
      showResult(`<b>Nope üòå</b><div class="small">Final answer. The wheel will remember this üò≠</div>`);
      spinBtn.disabled = true;
      resetBtn.style.display = "inline-block";
    }
    updateUI();
  }

  function resetGame(){
    spinCount = 0;
    spinning = false;
    waitingForAnswer = false;
    currentRotation = 0;
    wheelEl.style.transform = "rotate(0deg)";
    resultEl.style.display = "none";
    resultEl.innerHTML = "";
    hideYesNo();
    spinBtn.disabled = false;
    resetBtn.style.display = "none";

    // reshuffle so the next playthrough feels fresh
    refillBags();
    updateUI();
  }

  // init
  refillBags();
  updateUI();
</script>
</body>
</html>
